<div class="h-full bg-gradient-to-b from-slate-800 via-slate-900 to-slate-800 text-white overflow-y-auto custom-scrollbar">
  <div class="sticky top-0 bg-gradient-to-r from-slate-800 to-purple-800 p-4 border-b border-white/10 z-10">
    <h2 class="text-xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent flex items-center gap-2">
      <div class="w-1.5 h-6 bg-gradient-to-b from-purple-400 to-pink-400 rounded-full"></div>
      Propiedades
    </h2>
  </div>

  <div *ngIf="selectedComponent" class="p-6 space-y-8">
    
    <section class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üìê</span>
        </div>
        <h3 class="text-lg font-semibold text-blue-300">Posici√≥n y Dimensiones</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10">
        <div class="mb-6">
          <h4 class="text-sm font-medium text-gray-300 mb-3">Posici√≥n</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Left (X)</label>
              <div class="relative">
                <input type="number" 
                  [ngModel]="parsePxValue(selectedComponent.style.left)"
                  (ngModelChange)="Propiedades($event, 'left')"
                  class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            </div>
            <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Top (Y)</label>
              <div class="relative">
                <input type="number" 
                  [ngModel]="parsePxValue(selectedComponent.style.top)"
                  (ngModelChange)="Propiedades($event, 'top')"
                  class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            </div>
          </div>
        </div>

        <div>
          <h4 class="text-sm font-medium text-gray-300 mb-3">Dimensiones</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Ancho</label>
              <div class="relative">
                <input type="number" 
                  [ngModel]="parsePxValue(selectedComponent.style.width)"
                  (ngModelChange)="Propiedades($event, 'width')"
                  class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            </div>
            <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Alto</label>
              <div class="relative">
                <input type="number" 
                  [ngModel]="parsePxValue(selectedComponent.style.height)"
                  (ngModelChange)="Propiedades($event, 'height')"
                  class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üé®</span>
        </div>
        <h3 class="text-lg font-semibold text-purple-300">Apariencia</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 space-y-6">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"> <div class="space-y-2">
            <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Color de fondo</label>
            <div class="flex items-center gap-3 bg-slate-800 rounded-lg px-3 py-2 border border-slate-600">
              <input type="color" 
                [ngModel]="selectedComponent.style.backgroundColor"
                (ngModelChange)="Propiedades($event, 'backgroundColor')"
                class="w-8 h-8 rounded-md cursor-pointer border-2 border-slate-600" />
              <input type="text" 
                [ngModel]="selectedComponent.style.backgroundColor"
                (ngModelChange)="Propiedades($event, 'backgroundColor')"
                class="flex-1 bg-transparent text-white font-mono text-sm focus:outline-none" />
            </div>
          </div>

          <div class="space-y-2">
            <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Color del texto</label>
            <div class="flex items-center gap-3 bg-slate-800 rounded-lg px-3 py-2 border border-slate-600">
              <input type="color" 
                [ngModel]="selectedComponent.style.color || '#000000'"
                (ngModelChange)="Propiedades($event, 'color')"
                class="w-8 h-8 rounded-md cursor-pointer border-2 border-slate-600" />
              <input type="text" 
                [ngModel]="selectedComponent.style.color || '#000000'"
                (ngModelChange)="Propiedades($event, 'color')"
                class="flex-1 bg-transparent text-white font-mono text-sm focus:outline-none" />
            </div>
          </div>
        </div>

        <div class="space-y-4">
          <h4 class="text-sm font-medium text-gray-300 flex items-center gap-2">
            <span class="w-2 h-2 bg-orange-400 rounded-full"></span>
            Bordes
          </h4>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"> <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Color del borde</label>
              <div class="flex items-center gap-3 bg-slate-800 rounded-lg px-3 py-2 border border-slate-600">
                <input type="color" 
                  [ngModel]="getBorderProperty('color')"
                  (ngModelChange)="setBorderProperty('color', $event)"
                  class="w-8 h-8 rounded-md cursor-pointer border-2 border-slate-600" />
                <input type="text" 
                  [ngModel]="getBorderProperty('color')"
                  (ngModelChange)="setBorderProperty('color', $event)"
                  class="flex-1 bg-transparent text-white font-mono text-sm focus:outline-none" />
              </div>
            </div>

            <div class="space-y-2">
              <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Grosor del borde</label>
              <div class="relative">
                <input type="number" min="0"
                  [ngModel]="getBorderProperty('width')"
                  (ngModelChange)="setBorderProperty('width', $event)"
                  class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            </div>
          </div>
        </div>

        <div class="space-y-3">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Esquinas redondeadas</label>
          <div class="bg-slate-800 rounded-lg p-3 border border-slate-600">
            <div class="flex items-center gap-4">
              <input type="range" min="0" max="50" step="1"
                [ngModel]="parsePxValue(selectedComponent.style.borderRadius || '0')"
                (ngModelChange)="Propiedades($event, 'borderRadius')"
                class="flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider" />
              <div class="bg-slate-700 px-3 py-1 rounded-md text-sm font-mono min-w-[60px] text-center">
                {{selectedComponent.style.borderRadius || '0px'}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üìù</span>
        </div>
        <h3 class="text-lg font-semibold text-emerald-300">Contenido</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 space-y-4">
        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Texto del componente</label>
          <textarea [(ngModel)]="selectedComponent.content" (ngModelChange)="onContentChange($event)"
            rows="3"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors resize-none"></textarea>
        </div>
      </div>
    </section>

    <section class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-cyan-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üî§</span>
        </div>
        <h3 class="text-lg font-semibold text-cyan-300">Tipograf√≠a</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 space-y-6">
        <div class="space-y-3">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Tama√±o de texto</label>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"> <div class="relative">
              <input type="number" min="8" max="72" step="1"
                [ngModel]="parsePxValue(selectedComponent.style.fontSize || '16px')"
                (ngModelChange)="Propiedades($event, 'fontSize')"
                class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            <div class="bg-slate-800 rounded-lg p-2 border border-slate-600">
              <div class="flex items-center gap-3">
                <input type="range" min="8" max="72" step="1"
                  [ngModel]="parsePxValue(selectedComponent.style.fontSize || '16px')"
                  (ngModelChange)="Propiedades($event, 'fontSize')"
                  class="flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider" />
                <span class="text-xs text-gray-400 min-w-[35px] text-right"> {{selectedComponent.style.fontSize || '16px'}}
                </span>
              </div>
            </div>
          </div>
        </div>

        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Fuente</label>
          <select [ngModel]="selectedComponent.style.fontFamily || 'Arial, sans-serif'"
            (ngModelChange)="Propiedades($event, 'fontFamily')"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white focus:border-purple-400 focus:outline-none transition-colors">
            <option *ngFor="let font of webSafeFonts" [ngValue]="font.value" [style.fontFamily]="font.value">
              {{font.name}}
            </option>
          </select>
        </div>

        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Grosor del texto</label>
          <select [ngModel]="selectedComponent.style.fontWeight || 'bold'"
            (ngModelChange)="Propiedades($event, 'fontWeight')"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white focus:border-purple-400 focus:outline-none transition-colors">
            <option value="normal">Normal</option>
            <option value="bold">Negrita</option>
            <option value="bolder">Extra Negrita</option>
          </select>
        </div>

        <div class="space-y-3">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Altura de l√≠nea</label>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"> <div class="relative">
              <input type="number" min="1"
                [ngModel]="parsePxValue(selectedComponent.style.lineHeight || 'normal')"
                (ngModelChange)="Propiedades($event, 'lineHeight')"
                class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500">px</span> </div>
            <div class="bg-slate-800 rounded-lg p-2 border border-slate-600">
              <input type="range" min="1" max="100"
                [ngModel]="parsePxValue(selectedComponent.style.lineHeight || '20')"
                (ngModelChange)="Propiedades($event, 'lineHeight')"
                class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider" />
            </div>
          </div>
        </div>

        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Alineaci√≥n de texto</label>
          <div class="grid grid-cols-3 gap-2">
            <button type="button"
              [class]="selectedComponent.style.textAlign === 'left' ? 'bg-purple-600 text-white' : 'bg-slate-700 text-gray-300 hover:bg-slate-600'"
              (click)="Propiedades('left', 'textAlign')"
              class="px-3 py-2 rounded-lg text-sm font-medium transition-colors">
              Izquierda
            </button>
            <button type="button"
              [class]="selectedComponent.style.textAlign === 'center' || !selectedComponent.style.textAlign ? 'bg-purple-600 text-white' : 'bg-slate-700 text-gray-300 hover:bg-slate-600'"
              (click)="Propiedades('center', 'textAlign')"
              class="px-3 py-2 rounded-lg text-sm font-medium transition-colors">
              Centro
            </button>
            <button type="button"
              [class]="selectedComponent.style.textAlign === 'right' ? 'bg-purple-600 text-white' : 'bg-slate-700 text-gray-300 hover:bg-slate-600'"
              (click)="Propiedades('right', 'textAlign')"
              class="px-3 py-2 rounded-lg text-sm font-medium transition-colors">
              Derecha
            </button>
          </div>
        </div>
      </div>
    </section>

    <section *ngIf="selectedComponent?.type === 'button'" class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-indigo-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üîò</span>
        </div>
        <h3 class="text-lg font-semibold text-indigo-300">Propiedades de Bot√≥n</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 space-y-4">
        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Comportamiento</label>
          <select [ngModel]="selectedComponent.style.cursor || 'pointer'"
            (ngModelChange)="Propiedades($event, 'cursor')"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white focus:border-purple-400 focus:outline-none transition-colors">
            <option value="pointer">Cursor Pointer</option>
            <option value="default">Cursor Default</option>
          </select>
        </div>

        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Sombra</label>
          <input type="text" 
            [ngModel]="selectedComponent.style.boxShadow || '0 2px 4px rgba(0,0,0,0.1)'"
            (ngModelChange)="Propiedades($event, 'boxShadow')" 
            placeholder="Ej: 0 2px 4px rgba(0,0,0,0.1)"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors" />
        </div>
      </div>
    </section>

    <section *ngIf="selectedComponent?.type === 'select' && selectedComponent.children" class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üéöÔ∏è</span>
        </div>
        <h3 class="text-lg font-semibold text-orange-300">Opciones del ComboBox</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 space-y-4">
        <div class="space-y-3">
          <div *ngFor="let option of selectedComponent.children; let i = index" 
            class="flex items-center gap-3 p-3 bg-slate-800 rounded-lg border border-slate-600">
            <span class="text-xs text-gray-400 font-mono w-6 text-center">{{i + 1}}</span> <input type="text" [(ngModel)]="selectedComponent.children[i].content"
              (ngModelChange)="onOptionContentChange(i, $event)"
              class="flex-1 bg-transparent text-white focus:outline-none" 
              placeholder="Texto de la opci√≥n" />
            <button (click)="removeOption(i)" 
              class="w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-md transition-colors">
              <span class="text-lg">&times;</span>
            </button>
          </div>
        </div>

        <button (click)="addOption()" 
          class="w-full flex items-center justify-center gap-2 py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors">
          <span class="text-lg">+</span>
          Agregar Opci√≥n
        </button>
      </div>
    </section>

    <section *ngIf="selectedComponent?.type === 'table'" class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-pink-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üìä</span>
        </div>
        <h3 class="text-lg font-semibold text-pink-300">Opciones de Tabla</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10">
        <div class="grid grid-cols-2 gap-3">
          <button (click)="addTableRow()" 
            class="flex items-center justify-center gap-2 py-3 px-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors">
            <span>‚ûï</span>
            <span class="text-sm">Fila</span>
          </button>

          <button (click)="removeTableRow()" 
            class="flex items-center justify-center gap-2 py-3 px-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors">
            <span>üóëÔ∏è</span>
            <span class="text-sm">Fila</span>
          </button>

          <button (click)="addTableColumn()" 
            class="flex items-center justify-center gap-2 py-3 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors">
            <span>‚ûï</span>
            <span class="text-sm">Columna</span>
          </button>

          <button (click)="removeTableColumn()"
            class="flex items-center justify-center gap-2 py-3 px-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-medium transition-colors">
            <span>üóëÔ∏è</span>
            <span class="text-sm">Columna</span>
          </button>
        </div>
      </div>
    </section>

    <section *ngIf="selectedComponent?.type === 'td'" class="space-y-4">
      <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 bg-teal-500/20 rounded-lg flex items-center justify-center">
          <span class="text-lg">üìã</span>
        </div>
        <h3 class="text-lg font-semibold text-teal-300">Celda de Tabla</h3>
      </div>
      
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10">
        <div class="space-y-2">
          <label class="text-xs font-medium text-gray-400 uppercase tracking-wide">Contenido de la celda</label>
          <textarea [(ngModel)]="selectedComponent.content" (ngModelChange)="onContentChange($event)"
            rows="3"
            class="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none transition-colors resize-none"></textarea>
        </div>
      </div>
    </section>

  </div>

  <div *ngIf="!selectedComponent" class="flex flex-col items-center justify-center h-full text-gray-400 p-6"> <div class="w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mb-4">
      <span class="text-2xl">üéØ</span>
    </div>
    <p class="text-lg font-medium mb-2 text-center">Ning√∫n componente seleccionado</p> <p class="text-sm text-center max-w-xs">Selecciona un componente en el canvas para ver y editar sus propiedades</p>
  </div>
</div>

<style>
/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(139, 92, 246, 0.6);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 92, 246, 0.8);
}

/* Custom slider styles */
.slider::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #8b5cf6;
  cursor: pointer;
  border: 2px solid #1e293b;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  margin-top: -8px; /* Adjust thumb position vertically */
}

.slider::-webkit-slider-runnable-track {
  height: 2px; /* Make track thinner */
  background: #4a5568; /* Darker track for better contrast */
  border-radius: 1px;
}

.slider::-webkit-slider-thumb:hover {
  background: #a78bfa;
  transform: scale(1.1);
}

.slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #8b5cf6;
  cursor: pointer;
  border: 2px solid #1e293b;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.slider::-moz-range-track {
  height: 2px; /* Make track thinner */
  background: #4a5568; /* Darker track for better contrast */
  border-radius: 1px;
}

/* Smooth transitions */
input, select, textarea, button {
  transition: all 0.2s ease-in-out;
}

/* Focus states */
input:focus, select:focus, textarea:focus {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15);
}

/* Button hover effects */
button:hover {
  transform: translateY(-1px);
}

button:active {
  transform: translateY(0);
}
</style>